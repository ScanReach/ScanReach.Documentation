# Manage Nodes

::: warning
Page is work in progress
:::

NodeAdmin show all nodes in a table and where they are placed on the map. This is also where it is possible to set up a node as Muster station and Muster station with muster box

<div class="img-container">
<img src="./node-admin-images/node-admin-page.png" alt="Node Admin page"/>
</div>

## Toolbar

<div class="img-container">
<img src="./node-admin-images/toolbar-images/toolbar.png" alt="Toolbar"/>
</div>

| List item | Explanation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Variations                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| :-------: | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|     A     | Search for nodes by mac address. The number of nodes visible in the map (GA - General Arrangement) and the [node list](#node-list) will decrease as a user types the in the search bar.                                                                                                                                                                                                                                                                                                                                                                | NIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|     B     | Filter toggle for placed nodes in the map.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | <ul><li class="list-no-bullet-points">![Filtering placed nodes](./node-admin-images/toolbar-images/placed-nodes-show.png)Default on - Shows nodes that is placed in the map</li><li class="list-no-bullet-points">![Filtering placed nodes](./node-admin-images/toolbar-images/placed-nodes-hide.png)Placed nodes is now hidden in map.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|     C     | Filter toggle for not placed nodes in the map.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | <ul><li class="list-no-bullet-points">![Filtering not placed nodes](./node-admin-images/toolbar-images/not-placed-nodes-show.png)Default on - Shows nodes that is NOT placed in the map</li><li class="list-no-bullet-points">![Filtering not placed nodes](./node-admin-images/toolbar-images/not-placed-nodes-hide.png)NOT placed nodes is now hidden in map.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|     D     | Filter toggle for nodes configured as musterstations in the map. More on musterstation configuration [here](#node-manager).                                                                                                                                                                                                                                                                                                                                                                                                                            | <ul><li class="list-no-bullet-points">![Musterstation nodes](./node-admin-images/toolbar-images/musterstations-show.png)Default on - Shows nodes that is configured as musterstations in th map with the musterstation icon ![Musterstation icon](../icons/muster.svg)</li><li class="list-no-bullet-points">![Musterstation nodes](./node-admin-images/toolbar-images/musterstations-hide.png)Nodes configured as musterstations is now hidden in map.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|     E     | Filter toggle for node links in the map. More on node links [here](#showing-node-parent).                                                                                                                                                                                                                                                                                                                                                                                                                                                              | <ul><li class="list-no-bullet-points">![Node links](./node-admin-images/toolbar-images/node-links-show.png)Default on - Shows the lines between nodes depending on what is selected it shows Parent, children or neighbours</li><li class="list-no-bullet-points">![Node links](./node-admin-images/toolbar-images/node-links-hide.png)Node links is now hidden in map.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|     F     | System status. This is dependent on active system alarms and how critical these are: <ul><li>`OK` - everything is functioning well.</li><li>`Failure` - Some aspect of the system has stopped working or is not responding, this should be investigated. The system will most likely still function well.</li><li>`Critical Failure` - There is a critical error in the system that will stop core functionality of the system to work. This error should be handled immediately or contact ScanReach support for assistance in handling it.</li></ul> | <ul><li class="list-no-bullet-points">![System status ok](./node-admin-images/toolbar-images/system-status-ok.png)</li><li class="list-no-bullet-points list-with-extra-padding">![System status ok tablet](./node-admin-images/toolbar-images/system-status-ok-tablet.png)System status: OK</li><li class="list-no-bullet-points">![System status failure](./node-admin-images/toolbar-images/system-status-failure.png)</li><li class="list-no-bullet-points list-with-extra-padding">![System status failure tablet](./node-admin-images/toolbar-images/system-status-failure-tablet.png)System status: Failure</li><li class="list-no-bullet-points">![System status critical failure](./node-admin-images/toolbar-images/system-status-critical-failure.png)</li><li class="list-no-bullet-points">![System status critical failure tablet](./node-admin-images/toolbar-images/system-status-critical-failure-tablet.png)System status: Critical Failure</li></ul> |
|     G     | Mute button to mute audible alarms from the digital output node. More on the digital output node [here](#node-manager).                                                                                                                                                                                                                                                                                                                                                                                                                                | <ul><li class="list-no-bullet-points">![Mute button active](./node-admin-images/toolbar-images/mute-active.png)Possible to press button to send mute command</li><li class="list-no-bullet-points">![mute button disabled](./node-admin-images/toolbar-images/mute-disable.png)Mute button is disabled when system is sending mute command</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     H     | Mustering toggle to initiate or deactivate Mustering in the ScanReach system. More on Mustering [here](mustering.md).                                                                                                                                                                                                                                                                                                                                                                                                                                  | <ul><li class="list-no-bullet-points">![Mustering off](./node-admin-images/toolbar-images/mustering-off.png)</li><li class="list-no-bullet-points list-with-extra-padding">![Mustering off tablet](./node-admin-images/toolbar-images/mustering-off-tablet.png)Mustering is off</li><li class="list-no-bullet-points">![Mustering on](./node-admin-images/toolbar-images/mustering-on.png)</li><li class="list-no-bullet-points">![Mustering on](./node-admin-images/toolbar-images/mustering-on-tablet.png)Mustering is initiated</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                            |
|     I     | Embarked personnel in the ScanReach system.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | ![POB count](./node-admin-images/toolbar-images/pob-count.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## Map (GA - General Arrangement)

This map show the vessel and all its rooms. It is possible to place nodes from the [node list](#node-list) in the map. The placement in the map should represent the physical placement onboard the vessel.
It is possible to select how to view the node links in the map.

| List item                                                                               | Explanation                                                                              |
| :-------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------- |
| ![Selected node](../icons/selected-node-in-map.svg)                                     | Selected node.                                                                           |
| ![Standard node in map](../icons/node-in-map.svg)                                       | Indicates a node placement.                                                              |
| ![Root node in map](../icons/root.svg)                                                  | Indicates the Root node placement.                                                       |
| ![Root node with errors in map](../icons/root-alert.svg)                                | Indicates the Root node placement, node has errors.                                      |
| ![Node configured as a musterstation](../icons/muster.svg)                              | Indicates a node placement, configured as a musterstation.                               |
| ![Node configured as a musterstation with error](../icons/muster-alert.svg)             | Indicates a node placement, configured as a musterstation, node has errors.              |
| ![Node configured as a Gangway](../icons/gangway.svg)                                   | Indicates a node placement, configured as a gangway.                                     |
| ![Node configured as a Gangway with error](../icons/gangway-alert.svg)                  | Indicates a node placement, configured as a gangway, node has errors.                    |
| ![Node configured as a modbus/NMEA ](../icons/dashboard.svg)                            | Indicates a node placement, configured as a modbus or NMEA node.                         |
| ![Node configured as a modbus/NMEA with error](../icons/dashboard-alert.svg)            | Indicates a node placement, configured as a modbus or NMEA node, node has errors.        |
| ![Node is possible to place in map or change placement](../icons/place-node-in-map.svg) | Indicates that a node is moveable in the map. Activated by [node manager](#node-manager) |

### Showing node parent

Shows a line from the selected node to its parent. It will also show the path if there is grand parents, great grand parents etc. until it gets to the root node which is communicating with the gateway. It is a good tool to see what nodes are depending on others to be able to perform their task.

<div class="img-container">
<img src="./node-admin-images/map-images/map-parent.png" alt="Showing node with node links to neighbouring nodes and signal strength"/>
</div>

### Showing node children

Shows a line to the children of the node. A node can have several children.

<div class="img-container">
<img src="./node-admin-images/map-images/map-children.png" alt="Showing node with node links to children"/>
</div>

### Showing node neighbours

Shows a line to the 10 neighbours with best signal of a node and the signal strength to each node. These nodes are the possible parents or children of the selected node.

## Node list

Shows all nodes placed in map, and not placed in map.

<div class="img-container">
<img src="./node-admin-images/node-admin-table.png" alt="Node Admin Table"/>
</div>

### Components in the node list

<br/>

#### OWC Status

Press the icon to request a new update of the nodes. If a configuration is not as you expect, this can be a good first step to see if the configuration will update

<img src="./node-admin-images/owc-status.png" alt="OWC status refresh" class="component-image"/>

#### Table headers

Headings for the different sections showing the number of nodes in each section.

<div class="img-container flex-coloumn">
<img src="./node-admin-images/nodes-located-in-map.png" alt="Nodes located in map" class="component-image"/>
<img src="./node-admin-images/nodes-not-in-map.png" alt="Nodes not placed in map" class="component-image"/>
</div>

#### Node list table header

Sub header where it is possible to sort items by name, time or signal strength in Acending or Decending order.

<img src="./node-admin-images/node-admin-table-sub-header.png" alt="Node admin table header" class="component-image"/>

| List item | Explanation                                                                                                         | Variations                                      |
| :-------: | :------------------------------------------------------------------------------------------------------------------ | :---------------------------------------------- |
|     A     | Sort node on name                                                                                                   | NIL                                             |
|     B     | Sort by the time since the system last recived a signal from the node                                               | ![Clock icon](../icons/clock.svg)               |
|     C     | Sort by the nodes by signal strength <br><br> Meaning how strong the signal is between the node and its parent node | ![Signal strenght icon](../icons/antenna-4.svg) |

#### Node list table item

This is a node that has been added to the system. This node can be configured and placed in the map to display its position on the vessel.

<img src="./node-admin-images/node-admin-table-item-points.png" alt="Node admin table item" class="component-image"/>

| List item | Explanation                                                                                                                                                                         | Variations                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| :-------: | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|     A     | Node name                                                                                                                                                                           | NIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|     B     | Status icon that shows the status of the node                                                                                                                                       | <ul><li class="list-no-bullet-points"> <img src="./node-admin-images/node-status-blue.png" alt="Node status blue" class="img-icon"/> Blue - All is ok</li><li li class="list-no-bullet-points"> <img src="./node-admin-images/node-status-orange.png" alt="Node status orange" class="img-icon"/> Orange - There is an issue attached to the node</li><li li class="list-no-bullet-points"> <img src="./node-admin-images/node-status-grey.png" alt="Node status grey" class="img-icon"/> Grey - Node is not placed in map</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|     C     | Mac address of the node                                                                                                                                                             | NIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|     D     | A icon to idicate what roles the node has been set to. There will only be one icon show even though the node has more than one role. Click on node to see all the roles a node has. | The possible icons are: <ul><li class="list-no-bullet-points">None</li><li class="list-no-bullet-points">![Root icon](../icons/root.svg)This node is set up as the Root node. This means that this node is the parent node and is connected to the gateway. This is the basis for setting up all other nodes. They will report to this through their own network.</li><li class="list-no-bullet-points"><img src="../icons/dashboard.svg" alt="Modbus icon" class="icon"/><img src="../icons/dashboard-alert.svg" alt="Modbus icon" class="icon" />This node is set up as a Modbus sensor </li><li class="list-no-bullet-points"><img src="../icons/muster.svg" alt="Muster station icon" class="icon"/><img src="../icons/muster-alert.svg" alt="Muster station applying icon" class="icon" />This node is set up as a Muster station</li><li class="list-no-bullet-points"><img src="../icons/gangway.svg" alt="Gangway icon" class="icon"/><img src="../icons/gangway-alert.svg" alt="Gangway applying icon" class="icon" />This node is set up as a Gangway node.</li><li class="list-no-bullet-points">![Speaker icon](../icons/speaker.svg) This node is set up as a Alarm node</li><li class="list-no-bullet-points">There are two colours a role icon can have: </li><li>Blue - All is ok</li><li> Orange configuration is being applied</li></ul> |
|     E     | This is the time since the system last had a report from this node.                                                                                                                 | - , Now or number of minutes, hours, days, months or years                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|     F     | This icon indicates how good the signal strength is to the parent node in the mesh network                                                                                          | <ul><li class="list-no-bullet-points"><img src="../icons/antenna-1.svg" alt="Signal strengt Poor icon" class="icon"/>Poor</li><li class="list-no-bullet-points"><img src="../icons/antenna-2.svg" alt="Signal strengt OK icon" class="icon"/> OK</li><li class="list-no-bullet-points"><img src="../icons/antenna-3.svg" alt="Signal strengt Good icon" class="icon"/> Good</li><li class="list-no-bullet-points"><img src="../icons/antenna-4.svg" alt="Signal strengt Very good icon" class="icon"/> Very good </li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |

#### Node list table item details

When clicking a node item this extended information that is attached to the node will show.

![Node Admin Table item details](node-admin-images/node-admin-table-selected-node-extended.png)

| List item | Explanation                                                                                                                                                                                                                                                                                                                                | Variations                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| :-------: | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|     A     | Node roles shows what the Node is configured as.                                                                                                                                                                                                                                                                                           | The possible values here are: <ul><li class="list-no-bullet-points">"This node has no roles"</li><li class="list-no-bullet-points">![Alarm node pill](node-admin-images/alarm-node-pill.png)</li><li>This node is connected to a digital output node and will give and audible and visual alarm if a distress alarm is activated.</li><li class="list-no-bullet-points">![Muster station node pill](node-admin-images/muster-station-node-pill.png)</li><li>This node is set up as a muster station. This can be used to either automatically muster personnel that this node detects in a muster scenario or it can help when seeing where personnel is at the map. It is important to always set up a minimum of one node as a muster node to be able to handle a muster scenario in the best way.</li><li class="list-no-bullet-points">![Muster station with muster box pill](node-admin-images/muster-station-node-with-muster-box-pill.png)</li><li class="list-no-bullet-points">![Muster station with muster box applying pill](node-admin-images/muster-station-with-muster-box-applying-pill.png)</li><li>This node is also a muster station but it is also connected to or connecting to a muster box. This box will enable the personnel to "tap in" during a muster scenario to phisically confirm that they have met at the muster station and is accounted for.</li><li class="list-no-bullet-points">![Modbus node pill](node-admin-images/modbus-node-pill.png)</li><li class="list-no-bullet-points">![Modbus node pill applying](node-admin-images/modbus-node-pill-applying.png)</li><li>This node is connect to a Modbus instrument.</li><li class="list-no-bullet-points">![nmea node pill](node-admin-images/nmea-node-pill.png)</li><li class="list-no-bullet-points">![nmea node pill applying](node-admin-images/nmea-node-pill-applying.png)</li><li>This node is connect to a NMEA instrument and is crucial to get gps data.</li><li class="list-no-bullet-points">![Gangway node pill](node-admin-images/gangway-node-pill.png)</li><li class="list-no-bullet-points">![Gangway node pill applying](node-admin-images/gangway-node-pill-applying.png) </li><li>This node is connected to a gangway box or connecting to a gangway box. This makes it possible to drop off and embark personnel during gangway operations by having them "tap" their wearable to the box. This makes keeping the count of number of personnel aboard the vessel correct at all times.</li><li class="list-no-bullet-points">![Root node pill](node-admin-images/root-node-pill.png)</li><li>This is the root node of the system. Which means it is the base node and parent node to all other nodes. This node needs to be in place for the system to function properly. Do not remove this node without first contacting ScanReach support.</li></ul> The orange "pills" with "Applying" text indicates that the configuration is in the process of being applied. If this status persist, make sure that the correct equipment is connected to the node. Else contact scanreach support and we will help you with the problem. |
|     B     | What is the name of the node that is the Parent node of this node. Parent node is the node that this node reports to.                                                                                                                                                                                                                      | Root - or what the parent node is named                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|     C     | This is the time since the system last had a report from this node.                                                                                                                                                                                                                                                                        | - , Now or a number of minutes, hours, days, months or years                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|     D     | Signal strenght to paren node shown in desibel.                                                                                                                                                                                                                                                                                            | NIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|     E     | Number of parents - How many nodes does this node report to                                                                                                                                                                                                                                                                                | NIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|     F     | Number of children - How many nodes reports to this node                                                                                                                                                                                                                                                                                   | NIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|     G     | Number of Neighbours - How many nodes does this node pick up signal from.                                                                                                                                                                                                                                                                  | NIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|     H     | Click to remove the node from the map - A pop up will appear to make sure the act of removing the node is a conscious decision. If the node is not currently placed in the map, this button will say "Place" and by clicking this you can place the node in the node by dragging it to the location it is physically placed on the vessel. | "Remove" or "Place"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|     I     | Click to manage the node - Change the node configuration or change location of an already placed node in the map                                                                                                                                                                                                                           | NIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|     J     | Click to open a debug tool that shows all the related information from the node. Mostly used by ScanReach if support is needed or during testing                                                                                                                                                                                           | NIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|     K     | Click to close the node list table item details                                                                                                                                                                                                                                                                                            | NIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

## Node manager

Opened by pressing the "Manag" button in the Node List Table Item Details [I](#node-list-table-item-details). This is where a user can place a node in the map, change location of a placed node, set a node as muster station with or without a muster box, set retention and/or sensitivity level for muster station and muster box and lastly set a node as a Alarm node.

<div class="img-container">
<img src="./node-admin-images/node-manager-images/node-manager.png" alt="Node manager"/>
</div>

### Interacting with node manager

<div class="img-container">
<img src="./node-admin-images/node-manager-images/node-manager-open.png" alt="Node manager open"/>
</div>

| List item | Explanation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| :-------: | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|     A     | Node Icon                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|     B     | Heading                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|     C     | Mac address of selected node                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|     D     | Node name, a user can edit the node name. Max lenght of name is 30 characters                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|     E     | Toggle Node to be a muster station. This will enable the node to register personnel as accounted for or show that a person is located at a musterstation during mustering. To learn more about mustering [click here](mustering.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|     F     | <ul><li class="list-no-bullet-points">This section is shown when Muster station is toggled on. By setting the Mustering retention you select how much advantage (in decibels) muster station nodes have over regular nodes when detecting a person.</li><li class="list-no-bullet-points"> The higher the dB, the closer the person have to be another node to switch location to that node. This means that a user can be detected by another node and in be closer to that node, but will not be loose their Accounted For status during mustering unless the signal strenght to the other node is higher than the retention level that is set.</li><li class="list-no-bullet-points">This allows personnel to move around more freely during a mustering.</li></ul> |
|     G     | <ul><li class="list-no-bullet-points"> It is possible to select 1 of 3 premade retention levels.</li><li class="list-no-bullet-points">![Premade retention levels](./node-admin-images/node-manager-images/retention-level.png)<ul><li>High - Ideal for open spaces like hallways or cranes, where personnel may be occasionally detected by nearby nodes. Provides a 15dB RSSI boost.</li><li>Normal - Suitable for most vessels, where personnel at muster stations are not frequently detected by nearby nodes. Offers a 10dB RSSI boost.</li><li>Low - Designed for vessels with robust node coverage in muster areas, typically with nodes installed in the roof. Provides a 5dB RSSI boost.</li></ul></li></ul>                                                  |
|     H     | Clicking the <strong>SET CUSTOM</strong> button will enable a input field where a user can define their own custom retention level, this will overwrite any selected premade value. This value has to be between 1 and 99. Clicking the <strong>CANCEL CUSTOM</strong> will deactivate this field and ignore the value used there.                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|     I     | <ul><li class="list-no-bullet-points">![Muster box](./node-admin-images/node-manager-images/muster-box.png)It is possible to set a node as a Muster box. With the muster box it will be possible to manually register personnel by them "tapping" their wearable to the muster box. The registration will be indicated by a light, and will show the person as manually registered in the "Accounted for" section of the Safety page. This will only happen when Mustering is initiated and will set a person as "Accounted for" regardless if they are automatically mustered or not. To use a node as a Muster box, make sure you have connected the box</li></ul>                                                                                                   |
|     J     | <ul><li class="list-no-bullet-points">This section is shown when "Node is connected to a Muster-box" is toggled on. By setting the Box Sensitivity you select the sensitivity in decibels (dB) of the muster box, this is done to determine how close a person needs to be the muster box to self-register.</li><li class="list-no-bullet-points">The thickness of clothes covering the wearable can deminish the signal strength from the wearable.</li></ul>                                                                                                                                                                                                                                                                                                         |
|     K     | <ul><li class="list-no-bullet-points"> It is possible to select 1 of 3 premade sensitiity levels.</li><li class="list-no-bullet-points">![Premade sensitivity levels](./node-admin-images/node-manager-images/sensitivity-level.png)<ul><li>High - Best for heavily obstructive clothing or challenging conditions, but may result in unwanted detections. Equivalent to a RSSI of -40dB.</li><li>Normal - Well-balanced sensitivity for most situations. Recommended default setting. Equivalent to a RSSI of -36dB.</li><li>Low - Reduces chances of unwanted detections but may make detecting wearables more difficult. Equivalent to a RSSI of -32dB.</li></ul></li></ul>                                                                                         |
|     L     | Clicking the <strong>SET CUSTOM</strong> button will enable a input field where a user can define their own custom sensitivity level, this will overwrite any selected premade value. This value has to be between -1 and -99. Clicking the <strong>CANCEL CUSTOM</strong> will deactivate this field and ignore the value used there.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|     M     | <ul><li class="list-no-bullet-points">![Alarm unit](./node-admin-images/node-manager-images/alarm-unit.png)It is possible to toggle a node to set it up as a Alarm node. By connecting the node to an alarm unit and toggling this, the Alarm Unit will give an audible alarm and light when a distress alarm is detected by the system. To use a node as a Alarm Node, make sure you have connected the Alarm Unit and have placed it in an area that is constantly manned.</li></ul>                                                                                                                                                                                                                                                                                 |
|     N     | There is limitation to what tasks a node can perform in unison. Therefore the <strong>Alarm node</strong> toggle is disabled in this example<ul> Incompatible combinations are:<li>Gangway &amp; <strong>Alarm node</strong></li><li>Modbus &amp; <strong>Alarm node</strong></li><li>NMEA &amp; <strong>Alarm node</strong></li><li>Muster-box &amp; <strong>Alarm node</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                            |
|     O     | There is limitation to what tasks a node can perform in unison. Therefore the <strong>Muster Box</strong> toggle is disabled in this example<ul> Incompatible combinations are:<li>Gangway &amp; <strong>Muster-box</strong></li><li>Modbus &amp; <strong>Muster-box</strong></li><li>NMEA &amp; <strong>Muster-box</strong></li><li>Alarm node &amp; <strong>Muster-box</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                            |

## Mesh Debug Tool (MDT)

Opened by pressing the "Debug" button in the Node List Table Item Details [(J)](#node-list-table-item-details). This is a tool for admin users or ScanReach to use during debugging or internal testing. We will break down the image into sections and explain each point in the list.

<div class="img-container">
<img src="./node-admin-images/mesh-debug-images/mesh-debug-tool-full.png" alt="Mesh debug tool"/>
</div>

### Breakdown of sections in the Mesh Debug Tool

<br/>

#### MDT - Heading section

![Mesh Debug Tool heading section](node-admin-images/mesh-debug-images/mesh-debug-tool-part-1.png)

| List item | Explanation                                                                                                                                                                                                                                                                                                                                                                                                                               |
| :-------: | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|     A     | The given name of the node.                                                                                                                                                                                                                                                                                                                                                                                                               |
|     B     | Signal strength to parent node in desibel. This value will alway be minus. Green value -0 to -69 the node has GOOD connection to parent node. Yellow values -70 to -79 the node has OK connection to parent node, consider adding another node between the two nodes. Red values -80 or worse, the node has BAD connection to parent node and another node should be placed between the two to ensure that all data will be transimitted. |
|     C     | Nodes mac address                                                                                                                                                                                                                                                                                                                                                                                                                         |
|     D     | Time since node last reported to parent node. Updates every 5 minutes. If time since is more than 20 minutes the time will have a orange colour.                                                                                                                                                                                                                                                                                          |

#### MDT - Node data 1

This is the BLE (Bluetooth Low Energy) Micro Controller Unit in the node that handles bluetooth communication between equpiment it detects (Wearables and bluetooth sensors). Time since updates every 3 minutes.

|            List item            | Explanation                                                                                                           |
| :-----------------------------: | :-------------------------------------------------------------------------------------------------------------------- |
|          USB-Connected          | Is the node connceted to a instrument with a usb cable. True = yes, False = No.                                       |
|        Battery Charging         | Is the battery charging. True = yes, False = no.                                                                      |
|           Temperature           | The temperature the node is registering at its placed location.                                                       |
|             Voltage             | The internal voltage of the node.                                                                                     |
|             Uptime              | How long the MCU have been on since last reset.                                                                       |
|           Parent Rssi           | Signal strength to parent node in desibel. This value will alway be minus. Rssi (Received Signal Strength Indicator). |
|          Node Version           | What version is the firmware in the node running. This should be the same as Node data 2.                             |
|           BLE Version           | What BLE version is the node running. This should be the same as Node data 2.                                         |
|         NordicOutOfSec          | Number of lost inter-SOC messages.                                                                                    |
|       Buffers full-count        | Number of times mem_alloc() was called and no buffers was available.                                                  |
|        Queue Full-count         | Number of times the queue was full when trying to add a message.                                                      |
| Lowest No. Of Buffers Available | Number of lowest buffers available ever reached.                                                                      |
|        NordicCRCErrCount        | Number of times a CRC error have occurred on the serial interface.                                                    |

#### MDT - Node data 2

This is the Mesh Micro Controller Unit. This is the chip in the node that handles the communication between nodes. Time since updates every 3 minutes.

|     List item     | Explanation                                                                                          |
| :---------------: | :--------------------------------------------------------------------------------------------------- |
|     Udpseqno      | UDP (User Datagram Protocol) sequence number.                                                        |
|      Uptime       | The time since last reset.                                                                           |
|    NodeVersion    | What version is the firmware in the node running. This should be the same as Node data 1.            |
|    BLEVersion     | What BLE (Bluetooth Low Energy) version is the node running. This should be the same as Node data 1. |
|  Reset attempts   | How many times the chip has tried to reset itself when it could not connect to borderrouter.         |
|   Summary count   | How many times the OTA Summary message has been received.                                            |
|  SecSinceSummary  | Seconds since last received OTA Summary message.                                                     |
| BS build-version  | Mesh MCU Bootstrapper version.                                                                       |
| OTA build version | Mesh MCU OTA version.                                                                                |
| RPL build-version | Mesh MCU Application version.                                                                        |

#### MDT - Neighbours Data

Number of nodes this nodes sees around itself. Time since updates every 15 minutes.

|   List item    | Explanation                                                                                                                                                             |
| :------------: | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|   Neighbours   | How many other nodes this node registeres near itself. These are nodes that this node receives signal from and could therefore be part of the data flow to the gateway. |
| SequenceNumber | The currenct sequence number for the communication with neighbouring nodes.                                                                                             |

#### MDT - Parent Data

What node this node uses as preferred parent node. Time since updates every 30 minutes.

| List item  | Explanation                     |
| :--------: | :------------------------------ |
| Parent Mac | Mac address of the parent node. |

#### MDT - Reset Data

When was this node last reset??.....
| List item | Explanation |
| :--------: | :------------------------------ |
| Reset Data | ?????? |
